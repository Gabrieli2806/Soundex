const translations = {
    es: {
        nav: {
            learn1: 'Armonía',
            learn2: 'Rítmica',
            learn3: 'Solfeo',
            learn4: 'Ejercicios'
        },
        user: {
            title: 'Estudiante',
            level: 'Nivel Básico'
        },
        header: {
            title: 'Conceptos Fundamentales',
            search: 'Buscar tema...'
        },
        learning: {
            harmony: {
                title: 'Armonía',
                intro: 'La armonía es el arte de combinar sonidos simultáneamente para crear acordes y progresiones armónicas que enriquecen la música.',
                major: 'Acordes Mayores',
                majorDesc: 'Sonoridad brillante y positiva',
                majorDetail: 'Los acordes mayores tienen una sonoridad brillante, alegre y positiva. Están formados por la tónica, la tercera mayor y la quinta justa.',
                minor: 'Acordes Menores',
                minorDesc: 'Sonoridad oscura y melancólica',
                minorDetail: 'Los acordes menores tienen una sonoridad oscura, triste y melancólica. Están formados por la tónica, la tercera menor y la quinta justa.',
                composition: 'Composición',
                comp1: 'Tónica (raíz del acorde)',
                comp2: 'Tercera Mayor (4 semitonos)',
                comp3: 'Quinta Justa (7 semitonos)',
                compMinor: 'Tercera Menor (3 semitonos)',
                examples: 'Ejemplos'
            },
            rhythm: {
                title: 'Rítmica',
                intro: 'La rítmica organiza los sonidos en el tiempo, creando patrones regulares que estructuran la música.',
                description: 'Descubre las diferentes duraciones de notas',
                figures: 'Figuras Rítmicas',
                figuresDetail: 'Las figuras rítmicas representan la duración de los sonidos en la música.',
                whole: 'Redonda',
                wholeDesc: 'Dura 4 tiempos',
                half: 'Blanca',
                halfDesc: 'Dura 2 tiempos',
                quarter: 'Negra',
                quarterDesc: 'Dura 1 tiempo',
                eighth: 'Corchea',
                eighthDesc: 'Dura 1/2 tiempo',
                sixteenth: 'Semicorchea',
                sixteenthDesc: 'Dura 1/4 de tiempo'
            },
            solfege: {
                title: 'Solfeo',
                notes: 'Notas Musicales',
                point1: 'Las 7 notas: Do, Re, Mi, Fa, Sol, La, Si',
                staff: 'El Pentagrama',
                staffPoint1: '5 líneas y 4 espacios para escribir notas',
                staffDetail: 'El pentagrama es el sistema de notación musical con 5 líneas horizontales donde se escriben las notas.',
                structure: 'Estructura',
                staffPoint2: 'Las claves determinan qué notas representan las líneas y espacios',
                staffPoint3: 'La clave de sol es la más común para melodía',
                clefs: 'Tipos de Claves',
                treble: 'Clave de Sol',
                trebleDesc: 'Para voces agudas e instrumentos altos',
                bass: 'Clave de Fa',
                bassDesc: 'Para voces graves e instrumentos bajos',
                alto: 'Clave de Do',
                altoDec: 'Para voces medias',
                scales: 'Escalas',
                scalesDesc: 'Secuencias ordenadas de notas',
                scalesDetailText: 'Una escala es una secuencia de notas ordenadas ascendente o descendentemente.',
                majorScale: 'Escala Mayor',
                majorScaleDesc: 'Patrón: T - T - ST - T - T - T - ST',
                minorScale: 'Escala Menor Natural',
                minorScaleDesc: 'Patrón: T - ST - T - T - ST - T - T'
            }
        },
        common: {
            language: 'Idioma',
            learnMore: 'Aprender Más',
            showNotes: 'Ver Notas'
        }
    },
    en: {
        nav: {
            learn1: 'Harmony',
            learn2: 'Rhythm',
            learn3: 'Solfege',
            learn4: 'Exercises'
        },
        user: {
            title: 'Student',
            level: 'Basic Level'
        },
        header: {
            title: 'Fundamental Concepts',
            search: 'Search topic...'
        },
        learning: {
            harmony: {
                title: 'Harmony',
                intro: 'Harmony is the art of combining sounds simultaneously to create chords and harmonic progressions that enrich music.',
                major: 'Major Chords',
                majorDesc: 'Bright and positive sound',
                majorDetail: 'Major chords have a bright, cheerful and positive sound. They are formed by the tonic, the major third and the perfect fifth.',
                minor: 'Minor Chords',
                minorDesc: 'Dark and melancholic sound',
                minorDetail: 'Minor chords have a dark, sad and melancholic sound. They are formed by the tonic, the minor third and the perfect fifth.',
                composition: 'Composition',
                comp1: 'Tonic (chord root)',
                comp2: 'Major Third (4 semitones)',
                comp3: 'Perfect Fifth (7 semitones)',
                compMinor: 'Minor Third (3 semitones)',
                examples: 'Examples'
            },
            rhythm: {
                title: 'Rhythm',
                intro: 'Rhythm is the fundamental element that organizes sounds in time, creating regular patterns that structure music.',
                description: 'Discover the different note durations',
                figures: 'Rhythmic Figures',
                figuresDetail: 'Rhythmic figures represent the duration of sounds in music.',
                whole: 'Whole Note',
                wholeDesc: 'Lasts 4 beats',
                half: 'Half Note',
                halfDesc: 'Lasts 2 beats',
                quarter: 'Quarter Note',
                quarterDesc: 'Lasts 1 beat',
                eighth: 'Eighth Note',
                eighthDesc: 'Lasts 1/2 beat',
                sixteenth: 'Sixteenth Note',
                sixteenthDesc: 'Lasts 1/4 of a beat'
            },
            solfege: {
                title: 'Solfege',
                notes: 'Musical Notes',
                point1: 'The 7 notes: Do, Re, Mi, Fa, Sol, La, Si',
                staff: 'The Staff',
                staffPoint1: '5 lines and 4 spaces for writing notes',
                staffDetail: 'The staff is a musical notation system with 5 horizontal lines where notes are written.',
                structure: 'Structure',
                staffPoint2: 'Clefs determine which notes represent the lines and spaces',
                staffPoint3: 'The treble clef is the most common for melody',
                clefs: 'Types of Clefs',
                treble: 'Treble Clef',
                trebleDesc: 'For high voices and high-pitched instruments',
                bass: 'Bass Clef',
                bassDesc: 'For low voices and low-pitched instruments',
                alto: 'Alto Clef',
                altoDec: 'For middle voices',
                scales: 'Scales',
                scalesDesc: 'Ordered sequences of notes',
                scalesDetailText: 'A scale is a sequence of notes arranged in ascending or descending order.',
                majorScale: 'Major Scale',
                majorScaleDesc: 'Pattern: T - T - ST - T - T - T - ST',
                minorScale: 'Natural Minor Scale',
                minorScaleDesc: 'Pattern: T - ST - T - T - ST - T - T'
            }
        },
        common: {
            language: 'Language',
            learnMore: 'Learn More',
            showNotes: 'Show Notes'
        }
    }
};

let currentLanguage = localStorage.getItem('language') || 'es';

function setLanguage(lang) {
    currentLanguage = lang;
    localStorage.setItem('language', lang);
    updatePageLanguage();
}

function updatePageLanguage() {
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        const keys = key.split('.');
        let value = translations[currentLanguage];
        
        for (let k of keys) {
            value = value[k];
        }
        
        element.textContent = value;
    });

    document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        const keys = key.split('.');
        let value = translations[currentLanguage];
        
        for (let k of keys) {
            value = value[k];
        }
        
        element.placeholder = value;
    });

    document.querySelectorAll('[data-i18n-title]').forEach(element => {
        const key = element.getAttribute('data-i18n-title');
        const keys = key.split('.');
        let value = translations[currentLanguage];
        
        for (let k of keys) {
            value = value[k];
        }
        
        element.title = value;
    });

    document.documentElement.lang = currentLanguage;
}

// Initialize language on page load
document.addEventListener('DOMContentLoaded', () => {
    updatePageLanguage();
    const languageSelect = document.getElementById('languageSelect');
    if (languageSelect) {
        languageSelect.value = currentLanguage;
        languageSelect.addEventListener('change', (e) => {
            setLanguage(e.target.value);
        });
    }
});
